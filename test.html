<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forum Template</title>
    <link rel="stylesheet" href="common/style.css">
</head>
<body>
    <!-- sticky navbar -->
    <nav class="navbar">
        <div class="logo">DLSU FORUM</div>
        <div class = "searchbar">
            <input type = "text" placeholder = "Search for a post!">
        </div>
        <ul class="navlinks">
            <li><a href="test.html">Home</a></li>
            <li><a href="#" onclick = "toggleCategoriesbar()">Categories</a></li>
            <li><a href="#" onclick = "toggleMembersbar()">Members</a></li>
            <li><a href="#" onclick = "toggleProfilebar()">Profile</a></li>
        </ul>
    </nav>

    <!-- sidebar which is for going through tags? or categories? not sure yet-->
    <!-- let's try tags for now, will see which design is for the better-->
    <div id = "mysidebar" class = "sidebar">
        <p> TAGS </p>
        <a href="#">#Subject</a>
        <a href="#">#Prof</a>
        <a href="#">#Help</a>
        <a href="#">#Drama</a>
        <a href="#">#Study</a>
        <a href="#">#Rant</a>
    </div>

    <!-- categories bar which shows the kind of posts that are in the socmed/forum right now-->
    <div id = "categoriesbar" class = "categoriesbar">
        <a href="javascript:void(0)" class="closebtn" onclick="toggleCategoriesbar()">&times;</a>
        <div class="categoriesinfo">
            <h2> CATEGORIES </h2>
            <a href="#">Image Posts</a>
            <a href="#">Text Posts</a>
            <a href="#">Poll Posts</a>
            <br>
            <h2> SORT BY </h2>
            <a href="#">Most Liked</a>
            <a href="#">Most Commented</a>
            <a href="#">Most Recent</a>
        </div>
    </div> 

    <!-- members bar that show the list of members.-->
    <div id = "membersbar" class = "membersbar">
        <a href="javascript:void(0)" class="closebtn" onclick="toggleMembersbar()">&times;</a>
        <div class="membersinfo">
            <h2> MODS/ADMINS</h2>
            <a href="#">YilongMa</a>
            <h2> MEMBERS </h2>
            <a href="#">Anime_Girl79</a>
            <a href="#">Brainrot</a>
            <a href="#">Hater</a>
            <a href="#">Randymarsh</a>
            <a href="#">Skibidi</a>
            <p>More...</p>
        </div>
    </div>

    <!-- profile bar which displays profile info, maybe adding buttons in the lower part for site settings and shi-->
    <div id = "profilebar" class = "profilebar">
        <a href="javascript:void(0)" class="closebtn" onclick="toggleProfilebar()">&times;</a>
        <div class="profileinfo">
            <img src="https://i.pinimg.com/736x/e5/59/a4/e559a43c018434ed69c5220f85f0f6d6.jpg" alt="profile pic">
            <h2>Anime_Girl79</h2>
            <p>Email: animegirl@yahoo.jp</p>
            <p>Member since: January 2024</p>
            <p>Posts: 99999</p>
            <p>Comments: 99999</p>
            <p><a href="login.html">Logout</a></p>
        </div>
    </div>

    <!-- sticky  button that opens up categories => ☰ -->
    <div id="main">
        <button class="openbtn" onclick="toggleNav()">☰</button> 
    </div>

    <button class="createpost" onclick="createPost()">CREATE POST</button> 
    
    <div id = "createpostbox" class = "createpostbox">
        <div class = "createpostcontent">
            <span class = "closebtn" onclick = "closePost()">X</span> 
            <h2>Create a new post!</h2>
            <input type = "text" id = "posttitle" placeholder = "Post Title..">
            <textarea id="postcontent" placeholder="Content of your post..."></textarea>
            <input type="text" id="posttags" placeholder="Enter tags (Example: #drama #study #help)">

            <!-- based of html select guide-->
            <label for="postcategory">Select Category:</label>
            <select id="postcategory">
                <option value="image">Image Post</option>
                <option value="text">Text Post</option>
                <option value="poll">Poll Post</option>
            </select>
            <button class="submitpost">Submit</button>
        </div>
    </div>

    <!-- Content --> 
    <div class="content">
        <h1>I NEED HELP</h1>
        <p><strong>by:</strong> Brainrot</p>

        <img src="https://images.pexels.com/photos/346529/pexels-photo-346529.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="Italian Trulli">
        
        <div class = "tags">
            <span>#subject</span>
            <span>#help</span>
            <span>#study</span>
        </div>
        
        <!-- Adds interaction buttons (like and dislike) and comments now! -->
        <div class ="interaction-buttons">
            <button class = "like" onclick="handleLike(this)">Like</button>
            <button class = "dislike" onclick="handleDislike(this)">Dislike</button>    
            <span class="vote-counter">0</span>
            <button class = "comment" onclick = "toggleCommentbox(this)">Comment</button>
            <button class = "edit-post" onclick = "editPost(this)">Edit Post</button>
            <button class = "delete-post" onclick = "deletePost(this)">Delete Post</button>
        </div>

        <div class = "commentbox">
            <textarea placeholder="Write a comment..."></textarea>
            <button>Submit</button>
        </div>

        <div class = "comments">
            <!-- scuffed implementation, using <strong> to make the username bold -->
            <p><strong>StrongHelper:</strong> Ok i will help! </p> 
            <p><strong>Brainrot:</strong> frfr </p>    
        </div>
    </div>

    <!-- temporary static content pages -->
    <div class="content">
        <h1>WTF is this!!</h1>
        <p><strong>by:</strong> YilongMa</p>
        
        <p>
            Why does Professor Sensei insist on giving us homework every weekend? 
            It’s like she has no idea we have other classes to worry about! 
            Her lectures are always so dry, and the exams are impossible.
        </p>
        <p>
            How does she expect us to absorb all that information in such a short time? 
            It’s honestly frustrating, and I can’t even ask her questions because she’s always in a rush. 
            Can someone please tell her to chill?
        </p>
        
        <div class = "tags">
            <span>#prof </span>
            <span>#drama </span>
            <span>#rant </span>
        </div>
        
        <!-- Adds interaction buttons (like and dislike) -->
        <div class ="interaction-buttons">
            <button class = "like" onclick="handleLike(this)">Like</button>
            <button class = "dislike" onclick="handleDislike(this)">Dislike</button>    
            <span class="vote-counter">0</span>
            <button class = "comment" onclick = "toggleCommentbox(this)">Comment</button>
            <button class = "edit-post" onclick = "editPost(this)">Edit Post</button>
            <button class = "delete-post" onclick = "deletePost(this)">Delete Post</button>
        </div>

        <div class = "commentbox">
            <textarea placeholder="Write a comment..."></textarea>
            <button>Submit</button>
        </div>

        <div class = "comments">
            <!-- scuffed implementation, using <strong> to make the username bold -->
            <p><strong>Randymarsh:</strong> hmmm </p> 
            <p><strong>Skibidi:</strong> skill issue, honestly </p>  
            <p><strong>Hater:</strong> noob! </p>   
        </div>
    </div>

    <div class="content">
        <h1>What's Your Favorite Study Method?</h1>
        <p><strong>by:</strong> Randymarsh</p>
        
        <div class="tags">
            <span>#study</span>
            <span>#method</span>
            <span>#poll</span>
        </div>
    
        <!-- Poll options -->
        <div class="poll-options">
            <button class="poll-option">Flashcards</button>
            <button class="poll-option">Mind Mapping</button>
            <button class="poll-option">Practice Tests</button>
            <button class="poll-option">Group Study</button>
            <button class="poll-option">Reading Aloud</button>
        </div>

        <br>

        <!-- Poll results -->
        <div class="poll-results">
            <button class="toggle-results" onclick="togglePollResults()">Show Results</button>
            <div class="results-content">
                <p><strong>Flashcards:</strong> 45 votes</p>
                <p><strong>Mind Mapping:</strong> 30 votes</p>
                <p><strong>Practice Tests:</strong> 15 votes</p>
                <p><strong>Group Study:</strong> 10 votes</p>
                <p><strong>Reading Aloud:</strong> 5 votes</p>
            </div>
        </div>
    
        <div class="interaction-buttons">
            <button class = "like" onclick="handleLike(this)">Like</button>
            <button class = "dislike" onclick="handleDislike(this)">Dislike</button>    
            <span class="vote-counter">0</span>
            <button class="comment" onclick="toggleCommentbox(this)">Comment</button>
            <button class = "edit-post" onclick = "editPost(this)">Edit Post</button>
            <button class = "delete-post" onclick = "deletePost(this)">Delete Post</button>
        </div>
    
        <!-- Comment box -->
        <div class="commentbox">
            <textarea placeholder="Write a comment..."></textarea>
            <button>Submit</button>
        </div>
    
        <div class="comments">
            <p><strong>Skibidi:</strong> wait you guys study?</p>
            <p><strong>Hater:</strong> imagine needing this fr</p>
        </div>
    </div>    

    <!-- temporary static content pages end -->

    <!-- scripts for toggling sidebar, profile etc.-->
    <script>
        function toggleNav() { //modified collapsable side bar version of w3 example
            let sidebar = document.getElementById("mysidebar");
            let main = document.getElementById("main");

            if (sidebar.style.width === "250px") {
                sidebar.style.width = "0";
                main.style.marginLeft = "0";
            } else {
                sidebar.style.width = "250px";
                main.style.marginLeft = "250px";
            }
        }

        function toggleCategoriesbar() { // script to toggle categories bar off/on
            let categoriesbar = document.getElementById("categoriesbar");
            let membersbar = document.getElementById("membersbar");
            let profilebar = document.getElementById("profilebar");

            // close other bars if they are open
            if (membersbar.style.width === "300px") {
                membersbar.style.width = "0";
            }
            if (profilebar.style.width === "300px") {
                profilebar.style.width = "0";
            }

            // toggle the categories bar
            if (categoriesbar.style.width === "300px") {
                categoriesbar.style.width = "0";
            } else {
                categoriesbar.style.width = "300px";
            }
        }

        function toggleMembersbar() { // toggles the members bar on/off
                let membersbar = document.getElementById("membersbar");
                let categoriesbar = document.getElementById("categoriesbar");
                let profilebar = document.getElementById("profilebar");

                // close other bars if they are open
                if (categoriesbar.style.width === "300px") {
                    categoriesbar.style.width = "0";
                }
                if (profilebar.style.width === "300px") {
                    profilebar.style.width = "0";
                }

                // toggle the members bar
                if (membersbar.style.width === "300px") {
                    membersbar.style.width = "0";
                } else {
                    membersbar.style.width = "300px";
                }
        }

        function handleLike(button) {
        const interactionButtons = button.parentElement;
        const counter = interactionButtons.querySelector('.vote-counter');
        let currentCount = parseInt(counter.textContent);

    
        if (button.classList.contains('active-dislike')) {
            currentCount += 2; 
        } else if (!button.classList.contains('active-like')) {
            currentCount += 1; 
        }

    button.classList.toggle('active-like');
    counter.textContent = currentCount;
}

    function handleDislike(button) {
        const interactionButtons = button.parentElement;
        const counter = interactionButtons.querySelector('.vote-counter');
        let currentCount = parseInt(counter.textContent);

    
    if (button.classList.contains('active-like')) {
        currentCount -= 2; 
    } else if (!button.classList.contains('active-dislike')) {
        currentCount -= 1; 
    }

    
        button.classList.toggle('active-dislike');
        counter.textContent = currentCount;
}

        function toggleProfilebar() { // script to toggle profile bar off/on
            let profilebar = document.getElementById("profilebar");
            let categoriesbar = document.getElementById("categoriesbar");
            let membersbar = document.getElementById("membersbar");

            // close other bars if they are open
            if (categoriesbar.style.width === "300px") {
                categoriesbar.style.width = "0";
            }
            if (membersbar.style.width === "300px") {
                membersbar.style.width = "0";
            }

            // toggle the profile bar
            if (profilebar.style.width === "300px") {
                profilebar.style.width = "0";
            } else {
                profilebar.style.width = "300px";
            }
        }

        function togglePollResults() {
            let resultsContent = document.querySelector(".poll-results .results-content");
            let toggleButton = document.querySelector(".poll-results .toggle-results");

            // Toggle the display of the results content
            if (resultsContent.style.display === "block") {
                resultsContent.style.display = "none";
                toggleButton.textContent = "Show Results"; // Change button text when results are hidden
            } else {
                resultsContent.style.display = "block";
                toggleButton.textContent = "Hide Results"; // Change button text when results are shown
            }
        }

        function toggleCommentbox(button) { //toggles the commentbox on/off (contained in a single content div)
            let commentbox = button.parentElement.nextElementSibling;
            commentbox.style.display = commentbox.style.display === "block" ? "none" : "block";
        }

        function createPost(){ //does nothing for now/ placeholder 
            document.getElementById("createpostbox").style.display = "flex";
        }

        function closePost(){ //does nothing for now/ placeholder 
            document.getElementById("createpostbox").style.display = "none";
        }

        function editPost(button) { // Placeholder for edit post functionality
            //do nothing
        }

        function deletePost(button) { // Placeholder for delete post functionality
            //do nothing
        }
    </script>

</body>
</html>